{"version":3,"file":"commonHelpers.js","sources":["../src/js/01-gallery.js"],"sourcesContent":["import { galleryItems } from './gallery-items.js';\n\n// Change code below this line\nlet instance = null;\nconst galleryRef = document.querySelector('.gallery');\nconst markup = createGalleryItems(galleryItems);\n\ngalleryRef.innerHTML = markup;\n\ngalleryRef.addEventListener('click', clickImageHandler);\n\nfunction createGalleryItems(items) {\n  return items\n    .map(\n      ({ preview, description, original }) =>\n        `<li class=\"gallery__item\"><a class=\"gallery__link\" href=${original}><img class=\"gallery__image\" src=${preview} data-source=${original} alt=${description}/></a></li>`\n    )\n    .join('');\n}\n\nfunction clickImageHandler(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  instance = basicLightbox.create(`\n    <img src=${evt.target.dataset.source} width=\"800\" height=\"600\">\n`);\n  instance.show(() => document.addEventListener('keydown', escCloseHandler));\n}\n\nfunction escCloseHandler(evt) {\n  console.log('Слушатель ESC');\n  if (evt.code === 'Escape') {\n    instance.close(() =>\n      document.removeEventListener('keydown', escCloseHandler)\n    );\n  }\n  return;\n}\n"],"names":["instance","galleryRef","markup","createGalleryItems","galleryItems","clickImageHandler","items","preview","description","original","evt","escCloseHandler"],"mappings":"2FAGA,IAAIA,EAAW,KACf,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAASC,EAAmBC,CAAY,EAE9CH,EAAW,UAAYC,EAEvBD,EAAW,iBAAiB,QAASI,CAAiB,EAEtD,SAASF,EAAmBG,EAAO,CACjC,OAAOA,EACJ,IACC,CAAC,CAAE,QAAAC,EAAS,YAAAC,EAAa,SAAAC,CAAU,IACjC,2DAA2DA,CAAQ,oCAAoCF,CAAO,gBAAgBE,CAAQ,QAAQD,CAAW,aAC5J,EACA,KAAK,EAAE,CACZ,CAEA,SAASH,EAAkBK,EAAK,CAC9BA,EAAI,eAAc,EACdA,EAAI,OAAO,WAAa,QAG5BV,EAAW,cAAc,OAAO;AAAA,eACnBU,EAAI,OAAO,QAAQ,MAAM;AAAA,CACvC,EACCV,EAAS,KAAK,IAAM,SAAS,iBAAiB,UAAWW,CAAe,CAAC,EAC3E,CAEA,SAASA,EAAgBD,EAAK,CAC5B,QAAQ,IAAI,eAAe,EACvBA,EAAI,OAAS,UACfV,EAAS,MAAM,IACb,SAAS,oBAAoB,UAAWW,CAAe,CAC7D,CAGA"}